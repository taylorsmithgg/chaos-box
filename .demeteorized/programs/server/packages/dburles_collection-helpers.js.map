{"version":3,"file":"/packages/dburles:collection-helpers.js","sources":["dburles:collection-helpers/collection-helpers.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,kB;AACA,wD;AACA,kB;;AAEA,sD;AACA,uD;AACA,6D;;AAEA,qC;AACA,yE;AACA,8E;AACA,sC;AACA,G;AACA,E;AACA,yC;AACA,iD;AACA,K;AACA,E","sourcesContent":["var Document = {};\nMongo.Collection.prototype.helpers = function(helpers) {\n  var self = this;\n\n  if (self._transform && ! self._hasCollectionHelpers)\n    throw new Meteor.Error(\"Can't apply helpers to '\" +\n      self._name + \"' a transform function already exists!\");\n\n  if (! self._hasCollectionHelpers) {\n    Document[self._name] = function(doc) { return _.extend(this, doc); };\n    self._transform = function(doc) { return new Document[self._name](doc); };\n    self._hasCollectionHelpers = true;\n  }\n  \n  _.each(helpers, function(helper, key) {\n    Document[self._name].prototype[key] = helper;\n  });\n};\n"]}